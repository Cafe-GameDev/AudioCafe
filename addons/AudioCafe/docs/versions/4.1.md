# GODOT 4.1 ESTÁ AQUI, MAIS SUAVE, MAIS CONFIÁVEL E COM MUITOS NOVOS RECURSOS

Por: Godot contributors
6 de julho de 2023
Release

Após quatro meses de trabalho, temos o prazer de trazer o Godot 4.1! É uma atualização que segue nossa promessa de aprimorar o Godot 4.0 com lançamentos incrementais frequentes — com foco em estabilidade, desempenho e polimento.

Como sempre, um novo lançamento vem com uma série de novos recursos bem-vindos, como a navegação de IA aprimorada e a capacidade de desanexar editores de código e colocá-los em outros monitores.

Ainda assim, tivemos o cuidado de priorizar os bugs que você encontrou no 4.0. Esta atualização corrige mais de 900 problemas que os usuários relataram ao usar o Godot 4 ou ao ajudar os colaboradores a testar o 4.1 com builds de pré-lançamento. O motor deve parecer mais confiável no geral. Continuaremos a melhorar a estabilidade, o desempenho e os fluxos de trabalho a cada lançamento de recurso futuro do Godot 4.

Para a maioria dos jogos e aplicativos feitos com 4.0, deve ser relativamente seguro migrar para 4.1. Estamos preparando um guia de migração que descreve tudo o que você precisa prestar atenção ao migrar seu projeto. Algumas incompatibilidades são esperadas especificamente para usuários de C# e GDExtension, no entanto, estamos trabalhando para garantir que isso seja evitado em lançamentos futuros. Não se esqueça de sempre fazer backups ao mudar de versão, mesmo que seja uma versão menor. Melhor ainda, prefira usar um sistema de controle de versão, como o Git, e faça um commit do seu projeto antes da migração.

Se você deseja ir direto para a ação, pode baixar o Godot 4.1 agora. Ou fique por aqui e leia mais sobre as mudanças mais notáveis deste lançamento. Você também pode assistir a este ótimo vídeo de destaques do GDQuest:

## DANDO O TROCO

Como um esforço comunitário, o Godot depende de colaboradores individuais para melhorar. Nos últimos anos, doações de usuários e empresas nos permitiram contratar vários colaboradores principais para trabalhar em tempo integral no motor e trazer esses lançamentos rápidos.

Nossas despesas mensais permanecem mais altas do que as doações mensais, e ainda dependemos de grandes doações únicas de empresas para financiar o desenvolvimento. Atualmente, precisamos de muito mais doações mensais para manter o ritmo das atualizações do Godot 4, sem mencionar a necessidade de contratar mais mantenedores para revisar cada contribuição.

Além do suporte financeiro, você também pode retribuir: escrevendo relatórios de bugs detalhados, contribuindo para a base de código, escrevendo documentação, escrevendo guias (para os documentos ou em seu próprio site) e apoiando outros nas várias plataformas da comunidade, respondendo a perguntas e fornecendo dicas úteis.

Por último, mas não menos importante, fazer jogos com Godot e creditar o motor ajuda muito a torná-lo mais popular e convencer mais pessoas a contribuir e melhorar o Godot para todos. Lembre-se, estamos todos juntos nisso e o Godot exige suporte da comunidade em todas as áreas para prosperar.

## DESTAQUES

Este lançamento foi possível graças às contribuições de mais de 300 colaboradores! Agradecemos calorosamente a todos pelo trabalho e dedicação, incluindo aqueles que nos ajudaram a testar o motor antes do lançamento e a enviar relatórios de bugs.

Para uma lista exaustiva de todas as correções de bugs e melhorias, acesse nosso changelog interativo.

Sem mais delongas, aqui está um resumo das principais mudanças e novos recursos.

## DESEMPENHO

Os jogos Godot são construídos como uma árvore de nós, que são o bloco de construção base do motor para entidades de jogo. Adicionar e remover nós são operações que o motor precisa fazer com extrema frequência, então elas precisam ser o mais rápidas possível.

No 4.1, mudamos o algoritmo para usar um hashmap rápido para tornar a adição e remoção de nós filhos várias vezes mais rápida. Operações de nós incomuns são ligeiramente mais lentas como resultado, e o consumo de memória da classe base Node é 10% maior, mas esta é uma pequena e necessária troca por um grande benefício para todos os usuários do Godot, especialmente para projetos mais complexos com muita manipulação de nós.

Esta versão também introduz multithreading experimental para suas cenas, um recurso iniciado por Juan Linietsky. Novas propriedades de nó dão a você controle total sobre como os nós são processados, sequencialmente ou em paralelo.

Como mencionado, o recurso está atualmente marcado como experimental, pois precisa de testes extensivos para encontrar casos extremos. Não recomendamos usá-lo em produção ainda. Mas ele estabelece a base para aproveitar ao máximo o hardware moderno, com controles simples.

Também na frente do multithreading, Pedro J. Estébanez trabalhou duro para corrigir uma grande quantidade de problemas e limitações de carregamento multithread.

No lado da renderização, o renderizador Vulkan ganhou um cache de pipeline. Embora o Godot já armazenasse shaders em cache para reduzir a gagueira na compilação de shaders, a compilação de pipelines ainda levava a alguma gagueira e tempos de carregamento mais lentos. Embora o problema de gagueira na compilação de pipelines esteja longe de ser resolvido, isso representa um passo na direção certa e também deve levar a uma ligeira diminuição nos tempos de carregamento ao usar um dos backends de renderização baseados em RenderingDevice. Este cache pode ser desativado nas configurações do projeto e está ativado por padrão no Godot 4.1.

Esta melhoria não aborda todas as possíveis causas de travamentos, mas é um primeiro passo na direção certa por Alexander Streng. Continuaremos trabalhando nisso nos próximos lançamentos.

Mais trabalho seguirá na frente do desempenho ao longo do ano.

## NÚCLEO

Ao importar modelos para o Godot, muitas vezes havia o problema de eles acabarem virados para trás.

Juan Linietsky, Tokage e Aaron Franke trabalharam em várias maneiras de resolver esse problema. Uma das mudanças implementadas troca as direções da câmera frontal e traseira no editor. Além disso, a função `look_at()` agora tem um argumento para usar o espaço do modelo como referência para olhar para frente em vez do eixo Z negativo da câmera. Essas mudanças também ajudam a corrigir um bug de longa data com o seguimento de caminho.

Esta atualização também traz suavização de delta de quadro para o Godot 4, por lawnjelly. Isso pode melhorar significativamente a fluidez do movimento e proporcionar uma jogabilidade mais suave. Esta opção está ativada por padrão, embora observe que ela só funciona quando o VSync também está ativado.

## SCRIPTING

### GDSCRIPT

Até agora, no GDScript, você precisava usar um recurso ou um autoload para compartilhar dados entre várias instâncias do mesmo script.

Graças a George Marques, agora você pode criar e usar variáveis estáticas. Variáveis estáticas armazenam dados na classe em vez de em cada instância, então elas são compartilhadas entre todas as instâncias da classe.

Para tornar uma variável estática, adicione a palavra-chave `static` na frente de uma variável definida no topo do seu script.

Um ótimo recurso do GDScript adicionado no Godot 4 é a geração automática de páginas de documentação para suas classes nomeadas.

Esta versão inclui uma reformulação do sistema por ocean que agora trata as enumerações como tipos, tornando a documentação gerada mais precisa. Você também pode usar docstrings inline em vez de ter que sempre colocá-las acima da definição de uma variável ou função.

```gdscript
var my_variable = 10 ## This is an inline docstring
```

### C#/.NET

O foco neste lançamento foi trazer paridade de recursos entre C# e GDScript.

Ao usar GDScript, você pode definir um novo tipo de nó para usar no editor adicionando um nome de classe global ao seu script.

A partir do Godot 4.1, isso também é possível em C# adicionando o atributo `[GlobalClass]` ao seu arquivo, graças a Raul Santos e Will Nations. Você também pode usar o atributo `[Icon]` para dar à sua classe global um ícone exclusivo.

Observe que, a partir deste lançamento, projetos feitos com C# ainda não podem ser exportados para plataformas móveis e web. Estamos trabalhando para fornecer o suporte o mais rápido possível, mas a resolução dessa limitação provavelmente dependerá do lançamento do .NET 8 no final de 2023. Isso significa que o trabalho para habilitar plataformas móveis e web só poderá realmente começar no final deste ano.

### GDEXTENSION

Godot vem com uma tecnologia única para usar linguagens de baixo nível como C++ como uma linguagem de script de jogo, sem ter que recompilar o motor.

Embora a tecnologia ainda esteja em beta para este lançamento, o GDExtension está agora ainda mais próximo do GDScript e C# em termos de capacidades de script. Agora você pode implementar novos nós de shader visual e criar plugins de editor com GDExtension.

A equipe também implementou um sistema de compatibilidade retroativa para ajudar a garantir que o código escrito para o Godot 4.1 continue funcionando mesmo que a API mude em lançamentos futuros. No entanto, uma quebra de compatibilidade significativa foi necessária no 4.1 para corrigir problemas críticos no GDExtension, então as extensões existentes do Godot 4.0 precisarão ser portadas e recompiladas para o 4.1.

Finalmente, muito trabalho foi feito na arquitetura mais uma vez para tornar a API do GDExtension extensível no futuro.

Tudo o que foi dito acima resultou do trabalho em equipe de David Snopek, Juan Linietsky, RedworkDE, Yuri Rubinsky e Yuri Sizov.

## EDITOR

Godot 4 tem suporte para múltiplas janelas que usamos para as configurações do projeto e do editor e vários pop-ups. A partir desta versão, você também pode desanexar documentos em janelas flutuantes e desanexar editores de script, incluindo o editor de shader, e colocá-los em um monitor separado.

Além disso, o editor agora manterá o controle do seu layout de janela para que, ao fechar e reabrir o editor, você geralmente se encontre exatamente onde parou.

Você pode agradecer a trollodel, Hendrik Brucker e Tomasz Chabora por isso.

Godot 4.0 introduziu a opção de definir e exportar arrays tipados, e exportar nós individuais para o inspetor, mas não era possível combinar os dois. A partir do Godot 4.1, você pode exportar arrays de nós para o inspetor, o que é ótimo para vincular objetos de jogo.

Este trabalho foi feito por Tomasz e Timothé Bonhoure.

O gerenciador de projetos agora permite atribuir tags a projetos individuais e filtrar projetos por tags. Isso torna muito mais fácil pesquisar dezenas, senão centenas de projetos Godot.

## RENDERIZAÇÃO

A turbulência de partículas foi retrabalhada nesta versão com base no feedback dos artistas para oferecer maior controle criativo. A turbulência é usada extensivamente para criar esses ricos efeitos expansivos vistos em muitos jogos modernos. Muito obrigado a KdotJPG e Raffaele Picca por esta contribuição.

Usando as novas texturas de ruído 3D, você pode controlar a densidade da névoa volumétrica facilmente e torná-la mais fina em certas áreas. NoiseTexture3D também pode ser usado para criar campos vetoriais de atração de partículas, o que é útil para simular vento que afeta as partículas. Lasuch e Clay John implementaram este recurso.

Embora ainda haja muitas melhorias planejadas para os renderizadores do Godot, a maioria estará presente em lançamentos futuros. A equipe de renderização (e todos os colaboradores de renderização) priorizou a correção de bugs e a estabilidade em detrimento de novos recursos. Notavelmente, o renderizador 3D GLES3 ainda não está completo, mas verá um trabalho substancial nos próximos meses.

## NAVEGAÇÃO

Godot 4.0 introduziu a evitação em tempo real para navegação de IA, mas era limitada a um único plano.

Este lançamento inclui algoritmos de evitação completamente reescritos por smix8 para oferecer comportamentos muito melhores e maior controle. A evitação agora pode acontecer em 2D ou 3D, permitindo que agentes voadores se movam sobre aqueles que andam no chão.

Além disso, agora você pode usar camadas para controlar quais agentes evitam quais e atribuir prioridades para que alguns agentes empurrem outros.

Confira a documentação atualizada para saber mais sobre como a navegação aprimorada funciona.

## SUPORTE À PLATAFORMA

Estamos tão comprometidos como sempre em ter jogos Godot em todas as plataformas populares, e o 4.1 ainda oferece as mesmas capacidades que o Godot 4.0. Você pode exportar para todas as plataformas de desktop com as versões padrão e .NET do motor, e pode exportar para mobile e web se não usar C# em seus projetos.

A partir do 4.1, as exportações web ainda têm algumas limitações devido ao fraco suporte do fornecedor a certos recursos modernos. Navegadores com pouco suporte a WebGL 2, como o Chrome no macOS, infelizmente sofrem de problemas que não podemos resolver sem uma correção do Google ou uma quantidade significativa de esforço para suportar um renderizador WebGL 1 / GLES2 dedicado.

Também estamos cientes da complexidade de configurar jogos web em plataformas de hospedagem que não permitem definir os cabeçalhos CORS necessários para o suporte a SharedArrayBuffer. Isso depende principalmente do Safari implementar o suporte ao cabeçalho `coep:credentialless`, enquanto navegadores baseados em Chromium e Firefox já funcionam bem (especialmente se você publicar no itch.io). Há uma possível solução alternativa que estamos investigando.

## PROBLEMAS CONHECIDOS

A cada lançamento, reconhecemos que haverá problemas que não pudemos resolver a tempo. Alguns desses problemas foram identificados e as correções estão sendo trabalhadas enquanto falamos, enquanto outros permanecem desconhecidos até que alguém encontre o problema. Você pode seguir nosso rastreador de bugs para saber se o problema que você está enfrentando foi relatado. Agradecemos novos relatórios e confirmações de relatórios existentes, pois isso nos ajuda a priorizar a correção de problemas específicos.

Aqui estão os problemas notáveis que já foram identificados e que você pode experimentar no Godot 4.1:

*   A API recém-adicionada para definir propriedades de configuração personalizadas para predefinições de exportação não persiste as configurações do usuário. As opções de configuração são redefinidas e perdidas ao reiniciar o editor. A correção estará disponível no 4.1.1 (veja GH-79025).

## PARA O PRÓXIMO LANÇAMENTO!

Já começamos a trabalhar no Godot 4.2, que será lançado em quatro meses. Estamos dedicados a manter o ritmo e seguir este ciclo de lançamento confiável, para que você nunca precise esperar muito pelo próximo lote de melhorias e novos recursos.

Até então, aproveite o Godot 4.1!

Previous Release candidate: Godot 4.1 RC 3
Next Godot Funding Breakdown & Hiring Process

## GODOT ENGINE

*   Download
*   Documentation
*   Features
*   Web editor
*   Release archive
*   Source code

## PROJECT

*   Blog
*   Code of conduct
*   Governance
*   Teams
*   Priorities
*   Communities

## RESOURCES

*   Asset library
*   Press kit
*   Showcase
*   Education
*   Console support

## FOUNDATION

*   About
*   Donate
*   License
*   Privacy policy
*   Contact us

---

© 2007-2025 Juan Linietsky, Ariel Manzur and contributors. Hosted by the Godot Foundation. Website source code on GitHub.